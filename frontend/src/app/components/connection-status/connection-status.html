<div class="connection-status" [class]="statusClass()">
    <div class="status-indicator">
        <span class="status-dot" [class]="statusClass()"></span>
        <span class="status-text">{{ statusText() }}</span>
    </div>

    @if (connectionInfo(); as info) {
    <div class="connection-info">
        @if (info.connectionId) {
        <small>ID: {{ info.connectionId.substring(0, 8) }}...</small>
        } @if (info.lastActivity) {
        <small
            >Última atividade: {{ info.lastActivity | date:'HH:mm:ss' }}</small
        >
        } @if (info.reconnectAttempts && info.reconnectAttempts > 0) {
        <small>Tentativas de reconexão: {{ info.reconnectAttempts }}</small>
        }
    </div>
    }

    <div class="connection-actions">
        @if (!isConnected()) {
        <button class="btn btn-connect" (click)="connect()">Conectar</button>
        } @else {
        <button class="btn btn-disconnect" (click)="disconnect()">
            Desconectar
        </button>
        }
    </div>
</div>
